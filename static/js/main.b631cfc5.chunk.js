(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t){e.exports="https://cors-anywhere.herokuapp.com/"},28:function(e,t,a){},39:function(e,t,a){e.exports=a(64)},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},54:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(9),o=a.n(l),c=(a(44),a(12)),i=a(13),s=a(16),u=a(14),m=a(17),d=a(8),p=a(15),f=a.n(p),h=function(e){return function(t){var a="".concat(f.a,'https://api.deezer.com/search?q=artist:"').concat(e,'"');fetch(a).then(function(e){return e.json()}).then(function(e){console.log(e);var a=e.data[0],n=function(e){var t="";for(var a in e.data){var n=e.data[a];t+="".concat(n.title,", ")}return t}(e),r={artistId:a.artist.id,artistName:a.artist.name,artistImg:a.artist.picture_medium,audio:a.preview,songName:n,showPreview:!0,loader:!1};t({type:"GET_API_DATA",payload:r})}).catch(function(a){var n={};/^\s+$/.test(e)||""===e?t({type:"GET_API_DATA",payload:n={error:"Input field can't be empty!",loader:!1}}):(n={error:"Unable to find ".concat(e),loader:!1},t({type:"GET_API_DATA",payload:n}))})}},E=a(11),g=a(34),b=a(7),v={artistName:""},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=Object(b.a)({},e);switch(t.type){case"GET_API_DATA":return console.log("GET_API_DATA reducer okinut"),Object(b.a)({},a,{artistId:t.payload.artistId,artistName:t.payload.artistName,artistImg:t.payload.artistImg,audio:t.payload.audio,songName:t.payload.songName,error:t.payload.error,loader:t.payload.loader,showPreview:t.payload.showPreview});default:return a}},O={numAlbums:0,numFans:0},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,a=Object(b.a)({},e);switch(t.type){case"SHOW_PROFILE":return console.log("SHOW_PROFILE reducer okinut"),Object(b.a)({},e,{numAlbums:t.payload.numAlbums,numFans:t.payload.numFans,showProfile:t.payload.showProfile});default:return a}},y=Object(E.c)({getDataReducer:w,showProfileReducer:I}),N=[g.a],j=Object(E.e)(y,Object(E.d)(E.a.apply(void 0,N),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),P=a(68),D=(a(28),a(65)),A=a(66),_=a(67),R=(a(49),function(){return r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),k=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).getApiData=function(){e.setState({loader:!0});var t=e.state.inputValue;e.props.getApiData(t)},e.updateInputValue=function(t){var a=t.target.value;e.setState({inputValue:a,error:"",showPreview:!1})},e.inputEnterSubmit=function(t){"Enter"===t.key&&(t.preventDefault(),t.stopPropagation(),e.getApiData())},e.state={inputValue:"",loader:!1},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"text-center pb-4"},"Search for your favorite music artist"),r.a.createElement(D.a,null,r.a.createElement(A.a,{value:this.state.inputValue,onChange:this.updateInputValue,placeholder:"Type artist name",onKeyDown:this.inputEnterSubmit}),r.a.createElement(_.a,{type:"submit",color:"primary",onClick:this.getApiData},"Search")),this.state.loader&&!1!==this.props.loader?r.a.createElement(R,null):null,r.a.createElement("p",{className:"error-msg"},this.props.error))}}]),t}(n.Component),S=Object(d.b)(function(e){return{error:e.getDataReducer.error,loader:e.getDataReducer.loader}},{getApiData:h})(k),F=(a(50),Object(d.b)(function(e){return{artistId:e.getDataReducer.artistId,artistName:e.getDataReducer.artistName,artistImg:e.getDataReducer.artistImg}},null)(function(e){return r.a.createElement("div",{className:"text-center",style:{backgroundColor:"#f5f5f5"}},r.a.createElement("img",{src:e.artistImg,alt:e.artistName,onClick:e.showProfile,className:"previewImg"}),r.a.createElement("p",{className:"artist-name"},e.artistName))})),T=a(73),x=a(69),C=a(70),V=a(71),L=a(72),z=a(36),G=a.n(z),W=(a(51),a(25)),U=a.n(W),X=a(37),H=a(26),B=(a(54),function(e){var t=Object(n.useState)(null),a=Object(H.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(null),i=Object(H.a)(c,2),s=i[0],u=i[1],m=Object(n.useCallback)(Object(X.a)(U.a.mark(function t(){var a,n,r;return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="".concat(f.a,"https://api.deezer.com"),t.next=4,fetch("".concat(a,"/artist/").concat(e.artistId,"/related"));case 4:return n=t.sent,t.next=7,n.json();case 7:r=t.sent,o(r.data),u(null),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0),u("Unable to find related artists");case 16:case"end":return t.stop()}},t,null,[[0,12]])})),[e.artistId]);Object(n.useEffect)(function(){m()},[]);return r.a.createElement("div",{className:"mt-4"},r.a.createElement("div",null,r.a.createElement("p",null,"Related artists")),s,l&&l.slice(0,14).map(function(e,t){return r.a.createElement("div",{key:t,className:"related-artist-box"},r.a.createElement("img",{src:e.picture,alt:e.name,className:"relatedImg"}),r.a.createElement("p",null,e.name),r.a.createElement("p",null,"Fans: ",e.nb_fan))}))}),J=Object(d.b)(function(e){return{artistId:e.getDataReducer.artistId,artistName:e.getDataReducer.artistName,artistImg:e.getDataReducer.artistImg,audio:e.getDataReducer.audio,songName:e.getDataReducer.songName,numFans:e.showProfileReducer.numFans,numAlbums:e.showProfileReducer.numAlbums}},null)(function(e){return r.a.createElement("div",null,r.a.createElement(T.a,{isOpen:e.modal},r.a.createElement(P.a,null,r.a.createElement(x.a,{toggle:e.close},e.artistName),r.a.createElement(C.a,null,r.a.createElement(V.a,null,r.a.createElement(L.a,{sm:"4",md:"5",lg:"4"},r.a.createElement("img",{src:e.artistImg,alt:e.artistName,className:"mb-4"})),r.a.createElement(L.a,{sm:"8",md:"7",lg:"8"},r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-users",title:"Fans"}),e.numFans),r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-music",title:"Number of albums"}),e.numAlbums),r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-microphone",title:"Songs"}),e.songName),r.a.createElement(G.a,{src:e.audio,controls:!0}))),r.a.createElement(V.a,null,r.a.createElement(B,{artistId:e.artistId}))))))}),$=(a(62),function(){return r.a.createElement("footer",null,r.a.createElement(P.a,null,r.a.createElement("p",null,"All results depends on the Deezer API"),r.a.createElement("p",null,"Made by"," ",r.a.createElement("a",{href:"http://www.lukazrnic.com",target:"_blank",rel:"noopener noreferrer"},"Luka Zrnic"))))}),q={artistId:null,modal:!1},K=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).getArtistProfileData=function(){var t=e.props.artistId;e.props.showProfile(t)},e.showProfile=function(){e.setState(function(e){return{modal:!e.modal}}),e.getArtistProfileData()},e.reset=function(){e.setState(q)},e.state=q,e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("section",null,r.a.createElement(P.a,{className:"container-center"},r.a.createElement(S,null),this.props.showPreview?r.a.createElement(F,{showProfile:this.showProfile}):null,r.a.createElement(J,{close:this.reset,modal:this.state.modal,toggle:this.toggle}))),r.a.createElement($,null))}}]),t}(n.Component),M=Object(d.b)(function(e){return{artistId:e.getDataReducer.artistId,showPreview:e.getDataReducer.showPreview,showProfile:e.showProfileReducer.showProfile}},{getApiData:h,showProfile:function(e){return function(t){var a="".concat(f.a,"https://api.deezer.com/artist/").concat(e);fetch(a).then(function(e){return e.json()}).then(function(e){var a={numAlbums:e.nb_album,numFans:e.nb_fan,showProfile:!0};t({type:"SHOW_PROFILE",payload:a})}).catch(function(e){return console.log(e)}),console.log(j.getState())}}})(K),Z=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(M,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(63);o.a.render(r.a.createElement(d.a,{store:j},r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.b631cfc5.chunk.js.map